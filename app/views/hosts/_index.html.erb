<%= form_for(:screen, url: screens_create_path) do |f| %>
  <%= f.button(t('generator.submit_hosts'),
               { class: 'btn', 'data-action' => 'host#submitHosts' }
      )
  %>
  <small class="form-text text-muted"><%= I18n.t('screens.description_for_create_button') %></small>
  <div class="mt-3 form-check">
    <label class="form-check-label cursor-pointer" data-target="host.replace_label">
      <%= check_box_tag(:with_replace, 'true', false, {
          'class' => 'form-check-input',
          'data-target' => 'host.replace_checkbox',
          'data-action' => 'host#underlineCheckboxLabel'
      }) %>
      <%= t 'generator.replace_screen_if_exist' %>
    </label>
  </div>
  <a class="d-none" href="#my_popup" data-turbolinks="false" data-target="host.modal_no_hosts_selected">
    Open popup
  </a>
  <a id="my_popup" class="popup" href="#" data-turbolinks="false"></a>
  <div class="popup card">
    <h2 class="card-header">
      <%= t 'warning' %>
    </h2>
    <div class="card-body text-center">
      <p class="card-title"><%= t 'generator.need_select_hosts' %></p>
      <div class="text-right">
        <a class="btn btn-secondary" href="#" data-turbolinks="false"><%= I18n.t('ok') %></a>
      </div>
    </div>
  </div>
  <table class="table table-bordered table-hover mt-3 hosts-table">
    <thead>
    <tr>
      <th scope="col"><%= t 'generator.host_name' %></th>
      <th scope="col"><%= t 'generator.host_ip' %></th>
      <th scope="col"><%= t 'generator.host_check' %>
        <%= check_box_tag(:check_all, '', false,
                          { 'data-target' => 'host.checkall', 'data-action' => 'host#toggleAll' }
            ) %>
      </th>
    </tr>
    </thead>
    <tbody>
    <% @hosts.each do |host| %>
      <tr data-action="click->host#checkByRowClick">
        <td><%= host.name %></td>
        <td><%= host.ip %></td>
        <td class="text-center">
          <%= check_box_tag('host_ids[]', value = host.id, false, {
              'data-target' => 'host.check',
              'data-action' => 'host#highlightRow'
          }) %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% end %>